"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var o,e,t,n,a,s,c,i,r,l,d,u,g,p,h,m,f,b,v,_,y,w,C,j,x,L,E,S,I,A,k,B,N,M,T,O,F,D,P,W,U,q,R,z,G,H,J,K,V,Q,X,Y,Z,$,ee,te,ne,ae,se,ie,re,oe="undefined"!=typeof globalThis&&globalThis||window,ce=oe.top!==oe.self,le=oe.location.pathname.endsWith("/embed.html");function de(){var e=O.authuser;return!e||"0"===e?null:e}function ue(e){if("object"!==_typeof(e))return"";var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&(Array.isArray(e[t])?e[t].forEach(function(e){n.push(t+"="+encodeURIComponent(e))}):n.push(t+"="+encodeURIComponent(e[t])))}),n.join("&")}function ge(e){if(!s&&!n)try{return o.runtime.openOptionsPage(),void Le()}catch(e){}ke(t+"/views/options.html?standalone=1",e)}function pe(){return"object"!==_typeof(o.tabs)||a?Promise.resolve({}):new Promise(function(t){o.tabs.query({active:!0,currentWindow:!0},function(e){te=e[0],ne=te&&te.url,t(te)})})}function he(e){return!!e&&(-1!==e.indexOf("/_/chrome/newtab")||e.startsWith("chrome://newtab")||e.startsWith("chrome://new-tab-page")||e.startsWith("chrome://startpage")||e.startsWith("chrome-search://local-ntp")||e.startsWith("https://ntp.msn.com/")||"about:newtab"===e)}function me(){if(M)return 1;if(he(ne))return 1;try{return he(new URLSearchParams(oe.location.search).get("origin"))}catch(e){}}function fe(){var e=browserStorage.local.get([algBasics.cachePrefix+"iconDataCache","algCustomShortcutsDatabase","legacySfgDisplayed"]).catch(function(){return{}}),t=browserStorage.sync.get(["appLauncherConsent","autoListRemoved","customServicesDatabase","customShortcutsDatabase1","customShortcutsDatabase2","customShortcutsDatabase3","displayMarketplaceApps","displayMode","gbwaConfig","hideLabel","hideSuggestions","iconBreak","noFocusTab","noFocusActiveTab","openInCurrentTab","openInNewTabChrome","shortcutIconSize","showLaunchbox","showSettings","userList"]).catch(function(){return{}});return Promise.all([t,e]).then(function(e){return function(e,t){W=algBasics.joinCustomShortcutsDatabase([t,e]),U=t[algBasics.cachePrefix+"iconDataCache"]||{},C=!t.legacySfgDisplayed&&webextFlags.legacy_extension,e.openInCurrentTab?z=!1:e.openInNewTabChrome?z=!0:M?z=!1:Q.then(function(){z="about:blank"!==ne&&!me()}),le&&webextFlags.include_alg_welcome&&!e.gbwaConfig&&(w=!0),G=e.noFocusTab,H=e.noFocusActiveTab,K=!u&&!1!==e.showLaunchbox,h=h||p&&e.displayMarketplaceApps,e.hideSuggestions&&(j=!1),X=!1!==e.showSettings,Y=!K&&X&&g,J=l&&e.hideLabel,R=algBasics.parseUserlist(e.userList),algBasics.handleTemporaryShortcuts(R,e.autoListRemoved,P);var n,a,s=Number(e.shortcutIconSize);Z=s&&s<48?s:48,$=32===(Z=(!b||!J)&&Z<48?24:Z)||16===Z?Z:48,ee=32<Z,r&&(n=e.displayMode||"grid",a=Number(e.iconBreak),("grid"!==(n="custom"===n&&!(a&&.5<=a)?"grid":n)||J&&!ee)&&(t=ee?44:16,s=ee?92:J?16+Z:152,e=16<Z?4:5,"vertical"===n?e=1:"horizontal"===n?e=25:"custom"===n&&(e=Math.round(a)),e>R.length&&(e=R.length),L=t+e*s,K&&L<152?(x=L,L=152):794<L&&(L=t+Math.floor((794-t)/s)*s),V=L<224,s=L.toString()+"px",A.style.width=s,k.style.width=s))}(e[0]||{},e[1]||{})})}function be(){var t="/scripts/cs-selection.js",e=o.scripting||o.tabs;return e&&e.executeScript?o.scripting?o.tabs.query({active:!0,currentWindow:!0}).then(function(e){e=e[0].id;return o.scripting.executeScript({target:{tabId:e,allFrames:!0},files:[t]})}).then(function(e){return e.map(function(e){return e.result}).filter(function(e){return e}).join(" ")}).catch(function(){return""}):new Promise(function(n){o.tabs.executeScript({allFrames:!0,file:t,runAt:"document_start"},function(e){var t="";Array.isArray(e)?t=e.filter(function(e){return e}).join(" "):"string"==typeof e&&(t=e),n(t)})}):Promise.resolve("")}function ve(){return be().then(function(e){var t="";return 0<e.length&&(t+=e+"\n\n"),t+=ne,"https://mail.google.com/mail/u/"+(O.authuser||"0")+"/?"+ue({ui:"2",view:"cm",tf:"0",su:te.title,body:t})})}function _e(){var e=B+"/bookmarks/mark?"+ue({op:"add",bkmk:ne,title:te.title,authuser:de()});return Promise.resolve(e)}function ye(){return be().then(function(e){return B+"/maps?"+ue({q:e.replace(/\n|\r\n|\r/g,", ").replace(/ /g,"+"),authuser:de()})})}function we(){I&&(I.remove(),A.classList.remove("alg-style-flag--wide-content"),Oe())}function Ce(e){o.runtime.sendMessage({forward:"self",targetFrame:0,data:e})}function je(e){var t;e.dropdown?(t=document.createElement("div")).setAttribute("role","button"):(t=document.createElement("button")).type="button";var n=["ccc-button"];return e.fill?n.push("ccc-button--fill"):e.hairline&&n.push("ccc-button--outline"),e.color&&n.push("ccc-button--color"),t.className=n.join(" "),t.textContent=e.label,e.onClick&&t.addEventListener("click",e.onClick),t}function xe(n){var e="ref-input-"+(Date.now()+Math.random()).toString(36).replace(".","_");n.dropdown=!0;var t=je(n);t.classList.add("ccc-button--select");var a=document.createElement("span");n.noInitLabel||t.appendChild(a);var s=document.createElement("select");s.className="ccc-button__select",s.id=e,s.addEventListener("change",function(){a.textContent=s.selectedOptions[0].textContent,n.onChange(s.value)});e="object"===_typeof(n.options)&&Object.keys(n.options);e&&0<e.length&&(e.forEach(function(e){var t=document.createElement("option");t.textContent=n.options[e],t.value=e,s.appendChild(t)}),a.textContent=n.options[e[0]]),t.appendChild(s);return Object.defineProperty(t,"algPrefValue",{set:function(e){s.value=e,setTimeout(function(){s.selectedOptions[0]&&(a.textContent=s.selectedOptions[0].textContent)})},get:function(){return s.value}}),t}function Le(){le?(setTimeout(function(){oe.scrollTo(0,0)}),Ce({target:"contentscript",method:"closePopup"})):oe.close()}function Ee(e,t,n){oe.open(e,"_blank","noopener"),z&&G||n&&!t||Le()}function Se(e,t,n){var a=t||!G&&!n,s={url:e};le&&te&&(s.index=te.index+1),a||(s.active=!1);try{return void o.tabs.create(s,function(){o.runtime.lastError?Ee(e,t,n):a&&Le()})}catch(e){}Ee(e,t,n)}function Ie(e,t,n){if(!t&&!n&&!z&&te)try{return void o.tabs.update(te.id,{url:e},function(){o.runtime.lastError?Se(e,t,n):Le()})}catch(e){}Se(e,t,n)}function Ae(t,n,a){if("object"===_typeof(o.tabs)){var r;if(!H&&!n&&!a)return r=t.replace("/u/0/","/"),void new Promise(function(s,i){o.tabs.query({currentWindow:!0},function(e){o.runtime.lastError&&i(o.runtime.lastError);for(var t=e.length;0<t;t--){var n=e[t-1],a=n.url;if("string"==typeof a&&(a.replace("/u/0/","/")===r||a.replace("/u/0/","/").split("?")[0].split("#")[0]===r))return void s(n.id)}i(new Error("Couldn't find matching URL"))})}).then(function(e){try{o.tabs.update(e,{active:!0},function(){o.runtime.lastError?Ie(t,n,a):Le()})}catch(e){Ie(t,n,a)}},function(){Ie(t,n,a)});Ie(t,n,a)}else Ee(t,n,a)}function ke(e,t){var t=t||{},n=t.shiftKey,a=t[i]||1===t.button;if(n&&!a&&"object"===_typeof(o.windows))try{return void o.windows.create({url:e},function(){o.runtime.lastError?Ae(e,n,a):Le()})}catch(e){}Ae(e,n,a)}function Be(e,t){e().then(function(e){ke(e,t)})}function Ne(e,t){"172"===e?Be(_e,t):"175"===e?Be(ve,t):"176"===e?Be(ye,t):"-1"===e?ge(t):e in W?ke(W[e].url,t):ke(cjgShortcuts.getUrl(e,O),t)}function Me(e,t){le?pe().then(function(){Ne(e,t)},function(){Ne(e,t)}):Ne(e,t)}function Te(e,t){var n,n=(n="cj_i18n_"+e.i,algBasics.getI18nMessage(n,e.name||"")),t=algBasics.createShortcutItem(e,{customIconDataCache:U,customShortcutsDatabase:W,label:n,hideLabel:J,draggable:y&&!e.gsuiteApp,size:Z,sourceSize:$},t);return t.setAttribute("role","link"),t.dataset.queryLabel=n.toLowerCase(),t}function Oe(){var e=S?S.scrollHeight+2:k.scrollHeight;e<3||Ce({target:"contentscript",method:"popupHeight",value:0|(e=2e3<(e=e<200?200:e)?2e3:e)})}function Fe(){setTimeout(function(){oe.location.reload()})}function De(e){var t=document.createElement("button");t.type="button",t.className="ccc-ibtn";var n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg");a.setAttribute("xmlns",n),a.setAttribute("class","ccc-icon ccc-ibtn__icon"),a.setAttribute("aria-hidden","true"),a.setAttribute("focusable","false"),a.setAttribute("viewBox","0 0 24 24"),a.setAttribute("height","24"),a.setAttribute("width","24"),t.appendChild(a);n=document.createElementNS(n,"path");return n.setAttribute("d",cjgIcons.getGIcon(e)),a.appendChild(n),t}function Pe(){var e=De("settings");return e.title=algBasics.getI18nMessage("cj_i18n_00298","Settings"),e.addEventListener("click",ge),e}function We(){var e=document.createElement("ul");return e.className="cj-shortcutlist",x&&(e.style.width=x+"px"),ee?e.classList.add("cj-shortcutlist--grid"):le&&e.classList.add("cj-shortcutlist--list"),J&&e.classList.add("cj-shortcutlist--nolabels"),Z<24&&e.classList.add("cj-shortcutlist--condensed"),e}function Ue(e){var t=e.target.dataset.shortcutId;t&&Me(t,e)}function qe(){algBasics.saveUserListWithRemovals(R)}function Re(e){var t,n=e.target;n.parentNode===se&&(t=n.dataset.shortcutId,t=cjgShortcuts.getUrl(t,O)||(t=W[t]||cjgShortcuts.list[t]).url||t.u,(e=e.dataTransfer).setData("text/uri-list",t),e.setData("text/plain",t),se.classList.add("cj-shortcutlist--dragging"),re=n,setTimeout(function(){n.classList.add("cj-shortcutlist__item--dragging")}),ie.hidden=!1,K||setTimeout(function(){E.hidden=!1}))}function ze(e){ie.hidden=!0,K||(E.hidden=!0),se.classList.remove("cj-shortcutlist--dragging"),re=null,e.target.classList.remove("cj-shortcutlist__item--dragging"),qe(),Oe(),e.preventDefault()}function Ge(e){var t=e.target,e=re.dataset.shortcutId;t===se?se.appendChild(re):t===ie?se.removeChild(re):(t=R.indexOf(e)<R.indexOf(t.dataset.shortcutId)?t.nextSibling:t,se.insertBefore(re,t)),function(){R=[];for(var e=0;e<se.children.length;e++)R.push(se.children[e].dataset.shortcutId)}()}function He(e){var t=We();t.addEventListener("click",Ue),t.addEventListener("auxclick",Ue),t.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||Ue(e)});for(var n=0;n<e.length;n++){var a=e[n],s=P[a]||W[a];s&&t.appendChild(Te(s,a))}return y&&(t.addEventListener("dragstart",Re),t.addEventListener("dragend",ze),t.addEventListener("dragenter",Ge)),t}function Je(e,t){var n=document.createDocumentFragment();t.forEach(function(e){e=e[1]&&e[1][0],e=cjgShortcuts.gbIdToShortcutIdMap[e];e&&P[e]&&(e=Te(P[e],e),n.appendChild(e))}),e.appendChild(n)}function Ke(e,t){var r=document.createDocumentFragment(),o=48<oe.devicePixelRatio*Z;t.forEach(function(t){var e,n,a,s,i=Te((n=o,i={gsuiteApp:!0,name:(e=t).name||""},(s=e.iconUrl48x48||e.iconUrl96x96||e.iconUrl).endsWith("/s400/apps_script_48dp.png")?i.icon="script":s.startsWith("https://ssl.gstatic.com/classroom/ic_product_classroom_")?i.icon="classroom":s.startsWith("https://ssl.gstatic.com/images/branding/product/1x/cloud_print_")?i.icon="cloudprint":(a=48,n&&e.iconUrl96x96&&(s=e.iconUrl96x96,a=96),i.iconData={size:a,href:s}),i));i.addEventListener("click",function(e){ke(t.url,e)}),r.appendChild(i)}),e.appendChild(r),e.hidden=!1}function Ve(e){oe.scrollTo(0,0),k.style.width=L+e%2+"px",A.style.width=L+"px",A.style.marginLeft=(e-1)%2+"px",e<2&&setTimeout(Ve.bind(null,e+1),100)}function Qe(a,s,i){var e=P[a];A.classList.add("alg-style-flag--wide-content");var t=document.createDocumentFragment(),n=function(e){var t=document.createElement("div");t.className="cj-shortcutlist__icon",t.style.height="48px",t.style.width="48px";var n=(e.icon||"googleg").replace("__gpi:",""),a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg");return s.setAttribute("xmlns",a),s.setAttribute("viewBox","0 0 48 48"),s.setAttribute("height","48"),s.setAttribute("width","48"),s.innerHTML=cjgIcons.getProductIcon(n,$),t.appendChild(s),(e=algBasics.createBadgeIcon(e))&&t.appendChild(e),t}(e);n.classList.add("cj-al-suggestion__icon"),t.appendChild(n);var r=document.createElement("div");r.className="cj-al-suggestion__details",t.appendChild(r);n=document.createElement("h1");n.className="cj-al-suggestion__title",n.textContent=e.name||"",r.appendChild(n);n=document.createElement("p");n.className="cj-al-suggestion__subtitle",n.textContent=e.nu,r.appendChild(n);n=document.createElement("div");n.className="ccc-button ccc-button--color cj-al-suggestion__add",n.textContent=algBasics.getI18nMessage("cj_i18n_01621","Add shortcut"),n.addEventListener("click",function(){var e,t;t=P[e=a],-1===R.indexOf(e)&&t&&(R.push(e),se.appendChild(Te(t,e)),qe()),we()}),r.appendChild(n);n=De("close");return n.classList.add("cj-al-suggestion__dismiss"),n.title=algBasics.getI18nMessage("cj_i18n_01620","Dismiss"),n.addEventListener("click",function(){var e,t,n;we(),e=a,n=i,-1===(t=s).indexOf(e)&&(t.push(e),t.sort(),o.storage.local.set({suggestionBlacklist:t})),-1<(e=n.indexOf(e))&&(n.splice(e,1),n.sort(),o.storage.local.set({suggestionWhitelist:n}))}),t.appendChild(n),t}function Xe(){var e="-"+O.pageId+"-"+O.authuser;F+=e,(S=document.createElement("main")).className="cj-al-app",E=function(){var e=document.createElement("div");e.className="cj-al-appbar",K||(e.hidden=!0),y&&((ie=document.createElement("div")).hidden=!0,ie.className="cj-al-droparea",ie.addEventListener("drop",ze),ie.addEventListener("dragover",function(e){e.preventDefault()}),ie.addEventListener("dragenter",Ge),e.appendChild(ie),(t=De("delete")).classList.add("cj-al-droparea__icon"),t.disabled=!0,ie.appendChild(t),(t=document.createElement("div")).className="cj-al-droparea__message",t.textContent=algBasics.getI18nMessage("cj_i18n_00097","Drop here to remove"),ie.appendChild(t));var t=De("search");function n(e){var t=se.querySelector(".cj-shortcutlist__item:not([hidden])");t?Me(t.dataset.shortcutId,e):(e=h&&ae.querySelector(".cj-shortcutlist__item:not([hidden])"))&&e.click()}t.addEventListener("click",n),e.appendChild(t);var i=document.createElement("input");return i.className="cj-al-appbar__input",i.autofocus=!le,i.placeholder=V?algBasics.getI18nMessage("cj_i18n_00085","Search"):algBasics.getI18nMessage("cj_i18n_01619","Search and launch"),i.addEventListener("input",function(){for(var e,t=i.value.toLowerCase(),n=document.querySelectorAll(".cj-shortcutlist > .cj-shortcutlist__item"),a=0;a<n.length;a++){var s=n[a];s.hidden=-1===s.dataset.queryLabel.indexOf(t)}se.hidden=!se.querySelector(".cj-shortcutlist__item:not([hidden])"),h&&(e=ae.querySelector(".cj-shortcutlist__item:not([hidden])"),ae.hidden=!e),le&&setTimeout(Oe,1e-10)}),i.addEventListener("keyup",function(e){"Enter"!==e.key&&13!==e.keyCode||n(e)}),o.runtime.onMessage.addListener(function(e){"app"===e.target&&"popupOpenState"===e.method&&e.value&&(Oe(),i.focus(),setTimeout(Oe,100))}),e.appendChild(i),X&&(t=Pe(),e.appendChild(t)),e}(),S.appendChild(E);var t,n,a,s,i,r,e=Array.isArray(R)&&0<R.length;ae=h&&(t=We(),n=!(t.hidden=!0),a=null,s=algBasics.cachePrefix+"gsuite-apps-"+O.pageId+"-"+O.authuser,browserStorage.local.getItem(s).catch(function(){return null}).then(function(e){!n&&Array.isArray(e)&&0!==e.length&&Ke(t,a=e)}),cjgOgs.getGsuiteApps(O).then(function(e){n=!0,e&&Array.isArray(e)&&0!==e.length?a&&JSON.stringify(a)===JSON.stringify(e)||(t.textContent="",Ke(t,e),browserStorage.local.setItem(s,e)):t.remove()}),t),h&&m&&S.appendChild(ae),!d&&e&&(se=He(R),S.appendChild(se)),webextFlags.enterprise_domains&&q&&Array.isArray(q.enterpriseList)&&0<q.enterpriseList.length&&(i=He(q.enterpriseList),se=se||i,S.appendChild(i)),f&&S.appendChild(function(){var e=document.createDocumentFragment(),t=We();t.addEventListener("click",Ue),t.addEventListener("auxclick",Ue),e.appendChild(t);var n=We();n.addEventListener("click",Ue),n.addEventListener("auxclick",Ue),e.appendChild(n);var s=[t,n],a=!1,i=[],r=[];function o(e,t){var n=e[t];n&&Array.isArray(e)&&0!==e.length&&(i[t]=n,Je(s[t],n))}function c(e,t){var n=e[t],a=s[t];n&&Array.isArray(e)&&0!==e.length?(e=i[t],r[t]=n,JSON.stringify(n)!==JSON.stringify(e)&&(a.textContent="",Je(a,n))):a.textContent=""}return browserStorage.local.getItem(F).catch(function(){return null}).then(function(e){!a&&e&&Array.isArray(e)&&0!==e.length&&(o(e,0),o(e,1))}),cjgOgs.getShortcuts(O).then(function(e){a=!0,e&&Array.isArray(e)&&0!==e.length&&(c(e,0),c(e,1),JSON.stringify(i)!==JSON.stringify(r)&&browserStorage.local.setItem(F,r))}),y&&(t.addEventListener("dragstart",Re),t.addEventListener("dragend",ze),t.addEventListener("dragenter",Ge),n.addEventListener("dragstart",Re),n.addEventListener("dragend",ze),n.addEventListener("dragenter",Ge)),e}()),h&&!m&&S.appendChild(ae),Y&&(i=function(){var e=document.createElement("div");e.className="cj-al-configure";var t=document.createElement("button");return t.type="button",t.className="ccc-button ccc-button--color cj-al-configure__button",t.textContent=algBasics.getI18nMessage("cj_i18n_00298","Settings"),t.addEventListener("click",ge),e.appendChild(t),(t=Pe()).classList.add("cj-al-configure__iconbutton"),e.appendChild(t),e}(),S.appendChild(i)),C?(r=function(){var t=-1!==navigator.userAgent.indexOf("OPR"),n=document.createElement("div");n.className="cj-al-bottombanner cj-al-welcome";var e=document.createElement("div");e.className="cj-al-welcome__header",n.appendChild(e);var a=document.createElement("img");a.className="cj-al-welcome__icon",a.src="/images/action/alg/alg-16.svg",e.appendChild(a);var s=document.createElement("h3");return s.className="cj-al-welcome__title",a=t?"Shortcuts for Google on Opera":"App Launcher in Popup",s.textContent=a+=" has been replaced with G App Launcher.",e.appendChild(s),(e=document.createElement("p")).className="cj-al-welcome__message",s=algBasics.getI18nMessage("cj_i18n_06310","This extension also overrides the App Launcher on Google websites. This can always be changed in settings."),e.textContent=s,n.appendChild(e),(s=document.createElement("div")).className="cj-al-welcome__actions",n.appendChild(s),e=je({onClick:function(){browserStorage.local.set({legacySfgDisplayed:!0}),n.remove(),A.classList.remove("alg-style-flag--wide-content")},label:algBasics.getI18nMessage("cj_i18n_01659","Cancel"),hairline:!0,color:!0}),s.appendChild(e),e=je({onClick:function(e){ke(t?"https://addons.opera.com/extensions/details/app_id/jegfmclagmheobcjojbiohjekamkpbeb":"https://chrome.google.com/webstore/detail/g-app-launcher-customizer/ponjkmladgjfjgllmhnkhgbgocdigcjm",e),n.remove()},label:algBasics.getI18nMessage("cj_i18n_06968","Upgrade now"),fill:!0,color:!0}),s.appendChild(e),n}(),A.classList.add("alg-style-flag--wide-content"),S.appendChild(r)):w?(r=function(){var t=document.createElement("div");function n(e){A.classList.remove("alg-style-flag--wide-content"),t.remove(),w=!1,setTimeout(Oe,10);e=e||"override";browserStorage.sync.set({gbwaConfig:e}),Ce({target:"contentscript",method:"newGbwaConfig",value:e})}t.className="cj-al-bottombanner cj-al-welcome";var e=document.createElement("div");e.className="cj-al-welcome__header",t.appendChild(e);var a=document.createElement("img");return a.className="cj-al-welcome__icon",a.src="/images/action/alg/alg-16.svg",e.appendChild(a),(a=document.createElement("h3")).className="cj-al-welcome__title",a.textContent=algBasics.getI18nMessage("cj_i18n_06309","Welcome to __app_name__").replace("__app_name__","G App Launcher"),e.appendChild(a),(e=document.createElement("p")).className="cj-al-welcome__message",e.textContent=algBasics.getI18nMessage("cj_i18n_06310","This extension also overrides the App Launcher on Google websites. This can always be changed in settings."),t.appendChild(e),(a=document.createElement("div")).className="cj-al-welcome__actions",t.appendChild(a),e=xe({label:algBasics.getI18nMessage("cj_i18n_01900","More options"),noInitLabel:!0,hairline:!0,color:!0,onChange:function(e){n(e),"leave"===e&&T&&(oe.location.href=T)},options:{override:algBasics.getI18nMessage("cj_i18n_06302","Override button and launcher"),launcheronly:algBasics.getI18nMessage("cj_i18n_06303","Only override launcher"),hide:algBasics.getI18nMessage("cj_i18n_06304","Hide button"),leave:algBasics.getI18nMessage("cj_i18n_06305","Don't override")}}),a.appendChild(e),e=je({onClick:function(){n("override")},label:algBasics.getI18nMessage("cj_i18n_06311","Confirm"),fill:!0,color:!0}),a.appendChild(e),t}(),A.classList.add("alg-style-flag--wide-content"),S.appendChild(r)):v&&j&&e&&((I=document.createElement("div")).className="cj-al-bottombanner cj-al-suggestion",S.appendChild(I),setTimeout(function(){Q.then(function(){o.storage.local.get(["suggestionBlacklist","suggestionWhitelist"],function(e){var t,n=e.suggestionBlacklist||[],a=e.suggestionWhitelist||[],s=!1;if(ne&&(e=cjgShortcuts.findMatches(ne),Array.isArray(e)&&0<e.length&&(t=e.filter(function(e){return-1===R.indexOf(e)&&-1===n.indexOf(e)})[0])),!t){if(.03<Math.random())return;s=!0,t=.5<Math.random()||-1!==R.indexOf("9998")?"9999":"9998"}-1===R.indexOf(t)&&-1===algBasics.disallowedlist.indexOf(t)&&(s||-1!==a.indexOf(t)&&algBasics.limitAbove>t|0)?(s=Qe(t,n,a),I.appendChild(s)):(a.push(t),a.sort(),_||o.storage.local.set({suggestionWhitelist:a}))})})})),k.textContent="",k.appendChild(S),le?(Oe(),setTimeout(Oe),setTimeout(Oe,10),setTimeout(Oe,50),setTimeout(Oe,200),setTimeout(Oe,1e3),setInterval(Oe,4e3),o.runtime.onInstalled&&o.runtime.onInstalled.addListener(Fe),o.runtime.onStartup&&o.runtime.onStartup.addListener(Fe),o.storage.onChanged.addListener(function(e,t){"sync"===t&&(e.userList&&e.userList.newValue&&e.userList.newValue.join(",")===R.join(",")||Fe())})):c&&Ve(0)}function Ye(){if(k.textContent="",e&&(A.dir=e.getMessage("@@bidi_dir")||"ltr",A.lang=(e.getMessage("@@ui_locale")||"en").replace("_","-")),Q=pe(),!webextFlags.enterprise_domains)return fe().then(Xe);algBasics.getEnterpriseData().then(function(e){e&&e.toolbarIconUrl?algBasics.setActionIconUrl(e.toolbarIconUrl):algBasics.setActionIcon("app_launcher_square"),e?(q=e.config,O=e.account,fe().then(Xe)):function(){var e=document.createElement("div");e.style.margin="24px";var t=document.createElement("p");t.textContent=algBasics.getI18nMessage("cj_i18n_01949","No compatible account could be found"),e.appendChild(t),(t=document.createElement("button")).type="button",t.textContent=algBasics.getI18nMessage("cj_i18n_01544","Sign in"),t.className="ccc-button ccc-button--fill ccc-button--color",t.addEventListener("click",function(e){ke("https://accounts.google.com/AddSession",e)}),e.appendChild(t),k.appendChild(e)}()})}ce===le?(o="object"===("undefined"==typeof chrome?"undefined":_typeof(chrome))&&chrome&&chrome.runtime&&chrome||"object"===("undefined"==typeof browser?"undefined":_typeof(browser))&&browser||{},e="object"===_typeof(o.i18n)&&"function"==typeof o.i18n.getMessage&&o.i18n,t=o.runtime.getURL("PATH").replace("/PATH",""),n=t.startsWith("moz-extension://"),a=t.startsWith("safari-web-extension://"),ce=(D=navigator.userAgent).toLowerCase(),s=Boolean(/Edge?\/\d+/.test(D)),D=-1!==navigator.platform.toLowerCase().indexOf("mac"),c=D&&-1!==ce.indexOf("chrome")&&-1===ce.indexOf("opr"),i=D?"metaKey":"ctrlKey",r=webextFlags.support_advanced_display_settings,l=webextFlags.support_advanced_shortcut_settings,d=webextFlags.hide_main_shortcuts,u=webextFlags.disable_launchbox_and_settings,g=webextFlags.support_display_settings_button,p=webextFlags.gsuite_apps_support,h=webextFlags.gsuite_apps_enforced,m=webextFlags.gsuite_apps_pinned,f=webextFlags.display_applauncher_shortcuts,b=webextFlags.support_small_icons,v=!webextFlags.disable_shortcut_suggestions,_=webextFlags.use_legacy_suggestions,y=webextFlags.inline_drag_and_drop,C=w=!1,j=v,L=320,A=document.documentElement,k=document.body,B="https://www.google.com",N=le&&new URLSearchParams(oe.location.search),M=N&&"1"===N.get("newtab"),ce=N&&"1"===N.get("darkmode"),T=function(){if(!N)return null;var e=N.get("ogsUrl");return e&&e.startsWith("https://ogs.google.")?e:null}(),O={authuser:function(){if(!N)return null;var e=N.get("authuser");return!e||1!==e.length||-1==="0123456789".indexOf(e)?null:e}(),pageId:function(){if(!N)return null;var e=N.get("pageId");return!e||isNaN(e)?null:e}()},F=algBasics.cachePrefix+"applauncher",le&&(A.classList.add("alg-style-flag--embedded"),oe.opr&&A.classList.add("alg-style-flag--opera-embedded"),D=document.getElementById("ref-darkmode"),ce?D.media="screen":me()&&(D.media="(prefers-color-scheme: dark)")),n?A.classList.add("alg-style-flag--firefox"):a&&A.classList.add("alg-style-flag--safari"),P=cjgShortcuts.list,W={},U={},q={},V=!(z=!0),le?Ye():"complete"===document.readyState?setTimeout(Ye,10):oe.addEventListener("load",function(){setTimeout(Ye,30)})):oe.location.href="about:blank"}();