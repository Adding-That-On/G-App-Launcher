"use strict";var getUrlIcon=function(){var i="undefined"!=typeof globalThis&&globalThis||window,e=["AFS","CHROME","HORIZON","NEWS_360","SAVE"],c=["encrypted-tbn","t"];function a(t){return Math.floor(Math.random()*t)}function u(t,n,r){var o="https://"+c[a(2)]+a(4)+".gstatic.com/faviconV2",t=["client="+e[a(5)],"size="+n,"url="+encodeURIComponent(t),"type=FAVICON","fallback_opts=TYPE,SIZE,URL"];return r&&t.push("drop_404_icon=true"),function(t){for(var n=t.length-1;0<n;n--){var r=Math.floor(Math.random()*(n+1)),o=t[n];t[n]=t[r],t[r]=o}}(t),o+"?"+t.join("&")}function h(e){return e?new Promise(function(n,r){var o=new i.Image;o.onload=function(){var t=Math.max(16,Math.max(o.width,o.height)||0);o.removeAttribute("src"),o=null,n({href:e,size:t})},o.onerror=function(t){o.removeAttribute("src"),o=null,r(new Error("not found"))},o.src=e}):Promise.reject(new Error("missing"))}return function(t,n){return r=h(!(n=n)||n.length<3?null:(o&&(n=n.replace(i.location.origin,o)),(n=algBasics.getCleanCustomUrl(n,["https:","http:","data:"],!0)).startsWith("http://")?n.replace("http://","https://"):n)),new Promise(function(t,n){r.then(t,n),setTimeout(function(){n(new Error("Timeout"))},5e3)}).catch(function(){return t.startsWith("http://")||t.startsWith("https://")?function t(n){return h(n.shift()).catch(function(){return t(n)})}(function(t){var n=[u(t,96,!0),u(t,64,!0),u(t,32,!0),u(t,16,!0),"https://www.google.com/s2/favicons?domain_url="+encodeURIComponent(t)];try{var r=new URL(t).origin;n.push(r+"/icon-192.png",r+"/android-chrome-192x192.png",r+"/apple-touch-icon.png",r+"/favicon.png",r+"/favicon.ico")}catch(t){}return n}(t)):null}).catch(function(){return null});var r,o}}();